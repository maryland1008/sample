(function(d){d.fn.extend({jqEasyCounter:function(h){return this.each(function(){function g(){var e=b.val(),f=e.length;if(f>=a.maxChars)e=e.substring(0,a.maxChars);if(f>a.maxChars){var i=b.scrollTop();b.val(e.substring(0,a.maxChars));b.scrollTop(i)}f>=a.maxCharsWarning?c.css({color:a.msgWarningColor}):c.css({color:a.msgFontColor});c.html("Characters: "+b.val().length+"/"+a.maxChars);c.stop().show()}var b=d(this),a=d.extend({maxChars:100,maxCharsWarning:80,msgFontSize:"12px",msgFontColor:"#000000",
msgFontFamily:"helvetica, arial, sans-serif",msgTextAlign:"right",msgWarningColor:"#F00",msgAppendMethod:"insertAfter"},h);if(!(a.maxChars<=0)){var c=d('<div class="jqEasyCounterMsg">&nbsp;</div>'),j={"font-size":a.msgFontSize,"font-family":a.msgFontFamily,color:a.msgFontColor,"text-align":a.msgTextAlign,width:d(this).outerWidth(true),display:"none"};c.css(j);c[a.msgAppendMethod](b);b.bind("keydown keyup keypress",g).bind("focus paste",function(){setTimeout(g,10)})}})}})})(jQuery);
